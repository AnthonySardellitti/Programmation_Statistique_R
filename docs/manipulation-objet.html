<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 5 Manipulation des objets | Programmation Statistique avec R</title>
  <meta name="description" content="Chapitre 5 Manipulation des objets | Programmation Statistique avec R" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 5 Manipulation des objets | Programmation Statistique avec R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapitre 5 Manipulation des objets | Programmation Statistique avec R" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 5 Manipulation des objets | Programmation Statistique avec R" />
  
  <meta name="twitter:description" content="Chapitre 5 Manipulation des objets | Programmation Statistique avec R" />
  

<meta name="author" content="Anthony SARDELLITTI" />


<meta name="date" content="2020-04-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="first-import.html"/>
<link rel="next" href="graphique.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Préface</a></li>
<li class="chapter" data-level="2" data-path="presentation.html"><a href="presentation.html"><i class="fa fa-check"></i><b>2</b> Présentation</a><ul>
<li class="chapter" data-level="2.1" data-path="presentation.html"><a href="presentation.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a><ul>
<li class="chapter" data-level="2.1.1" data-path="presentation.html"><a href="presentation.html#à-propos-de-r"><i class="fa fa-check"></i><b>2.1.1</b> À propos de R</a></li>
<li class="chapter" data-level="2.1.2" data-path="presentation.html"><a href="presentation.html#à-propos-de-rstudio"><i class="fa fa-check"></i><b>2.1.2</b> À propos de RStudio</a></li>
<li class="chapter" data-level="2.1.3" data-path="presentation.html"><a href="presentation.html#à-propos-du-tidyverse"><i class="fa fa-check"></i><b>2.1.3</b> À propos du <em>tidyverse</em></a></li>
<li class="chapter" data-level="2.1.4" data-path="presentation.html"><a href="presentation.html#structure-du-document"><i class="fa fa-check"></i><b>2.1.4</b> Structure du document</a></li>
<li class="chapter" data-level="2.1.5" data-path="presentation.html"><a href="presentation.html#prérequis"><i class="fa fa-check"></i><b>2.1.5</b> Prérequis</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="presentation.html"><a href="presentation.html#prise-en-main"><i class="fa fa-check"></i><b>2.2</b> Prise en main</a><ul>
<li class="chapter" data-level="2.2.1" data-path="presentation.html"><a href="presentation.html#la-console"><i class="fa fa-check"></i><b>2.2.1</b> La console</a></li>
<li class="chapter" data-level="2.2.2" data-path="presentation.html"><a href="presentation.html#objets"><i class="fa fa-check"></i><b>2.2.2</b> Objets</a></li>
<li class="chapter" data-level="2.2.3" data-path="presentation.html"><a href="presentation.html#fonctions"><i class="fa fa-check"></i><b>2.2.3</b> Fonctions</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="presentation.html"><a href="presentation.html#fonctions-de-tests-et-comparaisons"><i class="fa fa-check"></i><b>2.3</b> Fonctions de tests et comparaisons</a><ul>
<li class="chapter" data-level="2.3.1" data-path="presentation.html"><a href="presentation.html#opérateurs-de-comparaisons"><i class="fa fa-check"></i><b>2.3.1</b> Opérateurs de comparaisons</a></li>
<li class="chapter" data-level="2.3.2" data-path="presentation.html"><a href="presentation.html#opérateurs-logiques"><i class="fa fa-check"></i><b>2.3.2</b> Opérateurs logiques</a></li>
<li class="chapter" data-level="2.3.3" data-path="presentation.html"><a href="presentation.html#fonctions-logiques"><i class="fa fa-check"></i><b>2.3.3</b> Fonctions logiques</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="presentation.html"><a href="presentation.html#regrouper-ses-commandes-dans-des-scripts"><i class="fa fa-check"></i><b>2.4</b> Regrouper ses commandes dans des scripts</a><ul>
<li class="chapter" data-level="2.4.1" data-path="presentation.html"><a href="presentation.html#commentaires"><i class="fa fa-check"></i><b>2.4.1</b> Commentaires</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="presentation.html"><a href="presentation.html#installer-et-charger-des-extensions-packages"><i class="fa fa-check"></i><b>2.5</b> Installer et charger des extensions (<em>packages</em>)</a></li>
<li class="chapter" data-level="2.6" data-path="presentation.html"><a href="presentation.html#exercices"><i class="fa fa-check"></i><b>2.6</b> Exercices</a><ul>
<li class="chapter" data-level="2.6.1" data-path="presentation.html"><a href="presentation.html#sujet"><i class="fa fa-check"></i><b>2.6.1</b> Sujet</a></li>
<li class="chapter" data-level="2.6.2" data-path="presentation.html"><a href="presentation.html#correction"><i class="fa fa-check"></i><b>2.6.2</b> Correction</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="first-dataset.html"><a href="first-dataset.html"><i class="fa fa-check"></i><b>3</b> Premier travail avec des données</a><ul>
<li class="chapter" data-level="3.1" data-path="first-dataset.html"><a href="first-dataset.html#jeu-de-données-dexemple"><i class="fa fa-check"></i><b>3.1</b> Jeu de données d’exemple</a></li>
<li class="chapter" data-level="3.2" data-path="first-dataset.html"><a href="first-dataset.html#tableau-de-données-data-frame"><i class="fa fa-check"></i><b>3.2</b> Tableau de données (<em>data frame</em>)</a><ul>
<li class="chapter" data-level="3.2.1" data-path="first-dataset.html"><a href="first-dataset.html#structure-du-tableau"><i class="fa fa-check"></i><b>3.2.1</b> Structure du tableau</a></li>
<li class="chapter" data-level="3.2.2" data-path="first-dataset.html"><a href="first-dataset.html#accéder-aux-variables-dun-tableau"><i class="fa fa-check"></i><b>3.2.2</b> Accéder aux variables d’un tableau</a></li>
<li class="chapter" data-level="3.2.3" data-path="first-dataset.html"><a href="first-dataset.html#créer-une-nouvelle-variable"><i class="fa fa-check"></i><b>3.2.3</b> Créer une nouvelle variable</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="first-dataset.html"><a href="first-dataset.html#analyse-univariée"><i class="fa fa-check"></i><b>3.3</b> Analyse univariée</a><ul>
<li class="chapter" data-level="3.3.1" data-path="first-dataset.html"><a href="first-dataset.html#analyser-une-variable-quantitative"><i class="fa fa-check"></i><b>3.3.1</b> Analyser une variable quantitative</a></li>
<li class="chapter" data-level="3.3.2" data-path="first-dataset.html"><a href="first-dataset.html#analyser-une-variable-qualitative"><i class="fa fa-check"></i><b>3.3.2</b> Analyser une variable qualitative</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="first-dataset.html"><a href="first-dataset.html#combiner-plusieurs-variables"><i class="fa fa-check"></i><b>3.4</b> Combiner plusieurs variables</a><ul>
<li class="chapter" data-level="3.4.1" data-path="first-dataset.html"><a href="first-dataset.html#créer-une-nouvelle-variable-1"><i class="fa fa-check"></i><b>3.4.1</b> Créer une nouvelle variable</a></li>
<li class="chapter" data-level="3.4.2" data-path="first-dataset.html"><a href="first-dataset.html#créer-des-regroupements-de-modalités"><i class="fa fa-check"></i><b>3.4.2</b> Créer des regroupements de modalités</a></li>
<li class="chapter" data-level="3.4.3" data-path="first-dataset.html"><a href="first-dataset.html#découper-une-variable-numérique-en-classes"><i class="fa fa-check"></i><b>3.4.3</b> Découper une variable numérique en classes</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="first-dataset.html"><a href="first-dataset.html#exercices-1"><i class="fa fa-check"></i><b>3.5</b> Exercices</a><ul>
<li class="chapter" data-level="3.5.1" data-path="first-dataset.html"><a href="first-dataset.html#sujet-1"><i class="fa fa-check"></i><b>3.5.1</b> Sujet</a></li>
<li class="chapter" data-level="3.5.2" data-path="first-dataset.html"><a href="first-dataset.html#correction-1"><i class="fa fa-check"></i><b>3.5.2</b> Correction</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="first-import.html"><a href="first-import.html"><i class="fa fa-check"></i><b>4</b> Importer des données externes</a><ul>
<li class="chapter" data-level="4.1" data-path="first-import.html"><a href="first-import.html#import-de-fichiers-csv"><i class="fa fa-check"></i><b>4.1</b> Import de fichiers csv</a></li>
<li class="chapter" data-level="4.2" data-path="first-import.html"><a href="first-import.html#interface-interactive-dimport-de-fichiers"><i class="fa fa-check"></i><b>4.2</b> Interface interactive d’import de fichiers</a></li>
<li class="chapter" data-level="4.3" data-path="first-import.html"><a href="first-import.html#modifier-le-répertoire-actif"><i class="fa fa-check"></i><b>4.3</b> Modifier le répertoire actif</a></li>
<li class="chapter" data-level="4.4" data-path="first-import.html"><a href="first-import.html#import-depuis-un-fichier-excel"><i class="fa fa-check"></i><b>4.4</b> Import depuis un fichier Excel</a></li>
<li class="chapter" data-level="4.5" data-path="first-import.html"><a href="first-import.html#export-de-données"><i class="fa fa-check"></i><b>4.5</b> Export de données</a><ul>
<li class="chapter" data-level="4.5.1" data-path="first-import.html"><a href="first-import.html#export-de-tableaux-de-données"><i class="fa fa-check"></i><b>4.5.1</b> Export de tableaux de données</a></li>
<li class="chapter" data-level="4.5.2" data-path="first-import.html"><a href="first-import.html#sauvegarder-des-objets"><i class="fa fa-check"></i><b>4.5.2</b> Sauvegarder des objets</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="first-import.html"><a href="first-import.html#exercices-2"><i class="fa fa-check"></i><b>4.6</b> Exercices</a><ul>
<li class="chapter" data-level="4.6.1" data-path="first-import.html"><a href="first-import.html#sujet-2"><i class="fa fa-check"></i><b>4.6.1</b> Sujet</a></li>
<li class="chapter" data-level="4.6.2" data-path="first-import.html"><a href="first-import.html#correction-2"><i class="fa fa-check"></i><b>4.6.2</b> Correction</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="manipulation-objet.html"><a href="manipulation-objet.html"><i class="fa fa-check"></i><b>5</b> Manipulation des objets</a><ul>
<li class="chapter" data-level="5.1" data-path="manipulation-objet.html"><a href="manipulation-objet.html#liste"><i class="fa fa-check"></i><b>5.1</b> Liste</a></li>
<li class="chapter" data-level="5.2" data-path="manipulation-objet.html"><a href="manipulation-objet.html#matrice"><i class="fa fa-check"></i><b>5.2</b> Matrice</a></li>
<li class="chapter" data-level="5.3" data-path="manipulation-objet.html"><a href="manipulation-objet.html#data-frame"><i class="fa fa-check"></i><b>5.3</b> Data frame</a><ul>
<li class="chapter" data-level="5.3.1" data-path="manipulation-objet.html"><a href="manipulation-objet.html#indexations-simples"><i class="fa fa-check"></i><b>5.3.1</b> Indexations simples</a></li>
<li class="chapter" data-level="5.3.2" data-path="manipulation-objet.html"><a href="manipulation-objet.html#indexations-avec-des-booléens"><i class="fa fa-check"></i><b>5.3.2</b> Indexations avec des booléens</a></li>
<li class="chapter" data-level="5.3.3" data-path="manipulation-objet.html"><a href="manipulation-objet.html#filtre-et-sélection-dans-un-data-frame"><i class="fa fa-check"></i><b>5.3.3</b> Filtre et sélection dans un data frame</a></li>
<li class="chapter" data-level="5.3.4" data-path="manipulation-objet.html"><a href="manipulation-objet.html#exercices-3"><i class="fa fa-check"></i><b>5.3.4</b> Exercices</a></li>
<li class="chapter" data-level="5.3.5" data-path="manipulation-objet.html"><a href="manipulation-objet.html#trier-un-data-frame"><i class="fa fa-check"></i><b>5.3.5</b> Trier un data frame</a></li>
<li class="chapter" data-level="5.3.6" data-path="manipulation-objet.html"><a href="manipulation-objet.html#exercice"><i class="fa fa-check"></i><b>5.3.6</b> Exercice</a></li>
<li class="chapter" data-level="5.3.7" data-path="manipulation-objet.html"><a href="manipulation-objet.html#agréger-des-données"><i class="fa fa-check"></i><b>5.3.7</b> Agréger des données</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="graphique.html"><a href="graphique.html"><i class="fa fa-check"></i><b>6</b> Représentation Graphique</a><ul>
<li class="chapter" data-level="6.1" data-path="graphique.html"><a href="graphique.html#les-fenêtres-graphiques"><i class="fa fa-check"></i><b>6.1</b> Les fenêtres graphiques</a></li>
<li class="chapter" data-level="6.2" data-path="graphique.html"><a href="graphique.html#les-fonctions-de-tracé-de-bas-niveau"><i class="fa fa-check"></i><b>6.2</b> Les fonctions de tracé de bas niveau</a></li>
<li class="chapter" data-level="6.3" data-path="graphique.html"><a href="graphique.html#personnaliser-des-éléments-graphiques"><i class="fa fa-check"></i><b>6.3</b> Personnaliser des éléments graphiques</a><ul>
<li class="chapter" data-level="6.3.1" data-path="graphique.html"><a href="graphique.html#mise-en-forme"><i class="fa fa-check"></i><b>6.3.1</b> Mise en forme</a></li>
<li class="chapter" data-level="6.3.2" data-path="graphique.html"><a href="graphique.html#gestion-des-couleurs"><i class="fa fa-check"></i><b>6.3.2</b> Gestion des couleurs</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="graphique.html"><a href="graphique.html#type-de-graphique"><i class="fa fa-check"></i><b>6.4</b> Type de graphique</a><ul>
<li class="chapter" data-level="6.4.1" data-path="graphique.html"><a href="graphique.html#boxplot"><i class="fa fa-check"></i><b>6.4.1</b> Boxplot</a></li>
<li class="chapter" data-level="6.4.2" data-path="graphique.html"><a href="graphique.html#histogramme"><i class="fa fa-check"></i><b>6.4.2</b> Histogramme</a></li>
<li class="chapter" data-level="6.4.3" data-path="graphique.html"><a href="graphique.html#diagramme-en-circulaire"><i class="fa fa-check"></i><b>6.4.3</b> Diagramme en circulaire</a></li>
<li class="chapter" data-level="6.4.4" data-path="graphique.html"><a href="graphique.html#diagramme-en-barre"><i class="fa fa-check"></i><b>6.4.4</b> Diagramme en barre</a></li>
<li class="chapter" data-level="6.4.5" data-path="graphique.html"><a href="graphique.html#nuage-de-points"><i class="fa fa-check"></i><b>6.4.5</b> Nuage de points</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="graphique.html"><a href="graphique.html#exercice-2"><i class="fa fa-check"></i><b>6.5</b> Exercice</a><ul>
<li class="chapter" data-level="6.5.1" data-path="graphique.html"><a href="graphique.html#sujet-6"><i class="fa fa-check"></i><b>6.5.1</b> Sujet</a></li>
<li class="chapter" data-level="6.5.2" data-path="graphique.html"><a href="graphique.html#correction-6"><i class="fa fa-check"></i><b>6.5.2</b> Correction</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="graphique.html"><a href="graphique.html#aller-plus-loin"><i class="fa fa-check"></i><b>6.6</b> Aller plus loin</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="algo.html"><a href="algo.html"><i class="fa fa-check"></i><b>7</b> Algorithme</a><ul>
<li class="chapter" data-level="7.1" data-path="algo.html"><a href="algo.html#construire-une-fonction"><i class="fa fa-check"></i><b>7.1</b> Construire une fonction</a></li>
<li class="chapter" data-level="7.2" data-path="algo.html"><a href="algo.html#construire-une-structure-conditionnelle"><i class="fa fa-check"></i><b>7.2</b> Construire une structure conditionnelle</a></li>
<li class="chapter" data-level="7.3" data-path="algo.html"><a href="algo.html#construire-une-boucle"><i class="fa fa-check"></i><b>7.3</b> Construire une boucle</a><ul>
<li class="chapter" data-level="7.3.1" data-path="algo.html"><a href="algo.html#la-boucle-for"><i class="fa fa-check"></i><b>7.3.1</b> La boucle <code>for</code></a></li>
<li class="chapter" data-level="7.3.2" data-path="algo.html"><a href="algo.html#la-boucle-while"><i class="fa fa-check"></i><b>7.3.2</b> La boucle <code>while</code></a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="algo.html"><a href="algo.html#exercice-3"><i class="fa fa-check"></i><b>7.4</b> Exercice</a><ul>
<li class="chapter" data-level="7.4.1" data-path="algo.html"><a href="algo.html#sujet-7"><i class="fa fa-check"></i><b>7.4.1</b> Sujet</a></li>
<li class="chapter" data-level="7.4.2" data-path="algo.html"><a href="algo.html#correction-7"><i class="fa fa-check"></i><b>7.4.2</b> Correction</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="apply.html"><a href="apply.html"><i class="fa fa-check"></i><b>8</b> Les fonctions apply</a><ul>
<li class="chapter" data-level="8.1" data-path="apply.html"><a href="apply.html#fonction-apply"><i class="fa fa-check"></i><b>8.1</b> Fonction apply</a></li>
<li class="chapter" data-level="8.2" data-path="apply.html"><a href="apply.html#fonction-lapply"><i class="fa fa-check"></i><b>8.2</b> Fonction lapply</a></li>
<li class="chapter" data-level="8.3" data-path="apply.html"><a href="apply.html#fonction-sapply"><i class="fa fa-check"></i><b>8.3</b> Fonction sapply</a></li>
<li class="chapter" data-level="8.4" data-path="apply.html"><a href="apply.html#fonction-tapply"><i class="fa fa-check"></i><b>8.4</b> Fonction tapply</a></li>
<li class="chapter" data-level="8.5" data-path="apply.html"><a href="apply.html#exercice-4"><i class="fa fa-check"></i><b>8.5</b> Exercice</a><ul>
<li class="chapter" data-level="8.5.1" data-path="apply.html"><a href="apply.html#sujet-8"><i class="fa fa-check"></i><b>8.5.1</b> Sujet</a></li>
<li class="chapter" data-level="8.5.2" data-path="apply.html"><a href="apply.html#correction-8"><i class="fa fa-check"></i><b>8.5.2</b> Correction</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>9</b> Manipuler les données avec dplyr</a><ul>
<li class="chapter" data-level="9.1" data-path="dplyr.html"><a href="dplyr.html#la-fonction-slice"><i class="fa fa-check"></i><b>9.1</b> La fonction <code>slice</code></a></li>
<li class="chapter" data-level="9.2" data-path="dplyr.html"><a href="dplyr.html#la-fonction-filter"><i class="fa fa-check"></i><b>9.2</b> La fonction <code>filter</code></a></li>
<li class="chapter" data-level="9.3" data-path="dplyr.html"><a href="dplyr.html#la-fonction-select"><i class="fa fa-check"></i><b>9.3</b> La fonction <code>select</code></a></li>
<li class="chapter" data-level="9.4" data-path="dplyr.html"><a href="dplyr.html#la-fonction-arrange"><i class="fa fa-check"></i><b>9.4</b> La fonction <code>arrange</code></a></li>
<li class="chapter" data-level="9.5" data-path="dplyr.html"><a href="dplyr.html#enchaîner-les-fonctions-avec-le-pipe"><i class="fa fa-check"></i><b>9.5</b> Enchaîner les fonctions avec le <em>pipe</em></a></li>
<li class="chapter" data-level="9.6" data-path="dplyr.html"><a href="dplyr.html#la-fonction-group_by"><i class="fa fa-check"></i><b>9.6</b> La fonction <code>group_by</code></a></li>
<li class="chapter" data-level="9.7" data-path="dplyr.html"><a href="dplyr.html#la-fonction-summarise"><i class="fa fa-check"></i><b>9.7</b> La fonction <code>summarise</code></a></li>
<li class="chapter" data-level="9.8" data-path="dplyr.html"><a href="dplyr.html#autres-fonctions-utiles-de-dplyr"><i class="fa fa-check"></i><b>9.8</b> Autres fonctions utiles de dplyr</a><ul>
<li class="chapter" data-level="9.8.1" data-path="dplyr.html"><a href="dplyr.html#la-fonction-rename"><i class="fa fa-check"></i><b>9.8.1</b> La fonction <code>rename</code></a></li>
<li class="chapter" data-level="9.8.2" data-path="dplyr.html"><a href="dplyr.html#la-fonction-mutate"><i class="fa fa-check"></i><b>9.8.2</b> La fonction <code>mutate</code></a></li>
<li class="chapter" data-level="9.8.3" data-path="dplyr.html"><a href="dplyr.html#la-fonction-distinct"><i class="fa fa-check"></i><b>9.8.3</b> La fonction <code>distinct</code></a></li>
<li class="chapter" data-level="9.8.4" data-path="dplyr.html"><a href="dplyr.html#la-fonction-case_when"><i class="fa fa-check"></i><b>9.8.4</b> La fonction <code>case_when</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="jointures.html"><a href="jointures.html"><i class="fa fa-check"></i><b>10</b> Jointures</a><ul>
<li class="chapter" data-level="10.1" data-path="jointures.html"><a href="jointures.html#principe-1"><i class="fa fa-check"></i><b>10.1</b> Principe</a></li>
<li class="chapter" data-level="10.2" data-path="jointures.html"><a href="jointures.html#types-de-jointures"><i class="fa fa-check"></i><b>10.2</b> Types de jointures</a><ul>
<li class="chapter" data-level="10.2.1" data-path="jointures.html"><a href="jointures.html#left-join"><i class="fa fa-check"></i><b>10.2.1</b> Left Join</a></li>
<li class="chapter" data-level="10.2.2" data-path="jointures.html"><a href="jointures.html#right-join"><i class="fa fa-check"></i><b>10.2.2</b> Right Join</a></li>
<li class="chapter" data-level="10.2.3" data-path="jointures.html"><a href="jointures.html#inner-join"><i class="fa fa-check"></i><b>10.2.3</b> Inner Join</a></li>
<li class="chapter" data-level="10.2.4" data-path="jointures.html"><a href="jointures.html#full-join"><i class="fa fa-check"></i><b>10.2.4</b> Full Join</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="jointures.html"><a href="jointures.html#exercice-5"><i class="fa fa-check"></i><b>10.3</b> Exercice</a><ul>
<li class="chapter" data-level="10.3.1" data-path="jointures.html"><a href="jointures.html#sujet-9"><i class="fa fa-check"></i><b>10.3.1</b> Sujet</a></li>
<li class="chapter" data-level="10.3.2" data-path="jointures.html"><a href="jointures.html#correction-9"><i class="fa fa-check"></i><b>10.3.2</b> Correction</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="all-dataset.html"><a href="all-dataset.html"><i class="fa fa-check"></i><b>11</b> Jeux de données utilisés</a><ul>
<li class="chapter" data-level="11.1" data-path="all-dataset.html"><a href="all-dataset.html#iris"><i class="fa fa-check"></i><b>11.1</b> Iris</a></li>
<li class="chapter" data-level="11.2" data-path="all-dataset.html"><a href="all-dataset.html#histoire-de-vie-hdv2003"><i class="fa fa-check"></i><b>11.2</b> Histoire de vie (hdv2003)</a></li>
<li class="chapter" data-level="11.3" data-path="all-dataset.html"><a href="all-dataset.html#nyc-flights-2013"><i class="fa fa-check"></i><b>11.3</b> NYC Flights 2013</a><ul>
<li class="chapter" data-level="11.3.1" data-path="all-dataset.html"><a href="all-dataset.html#flights"><i class="fa fa-check"></i><b>11.3.1</b> Flights</a></li>
<li class="chapter" data-level="11.3.2" data-path="all-dataset.html"><a href="all-dataset.html#airlines"><i class="fa fa-check"></i><b>11.3.2</b> Airlines</a></li>
<li class="chapter" data-level="11.3.3" data-path="all-dataset.html"><a href="all-dataset.html#airports"><i class="fa fa-check"></i><b>11.3.3</b> Airports</a></li>
<li class="chapter" data-level="11.3.4" data-path="all-dataset.html"><a href="all-dataset.html#weather"><i class="fa fa-check"></i><b>11.3.4</b> Weather</a></li>
<li class="chapter" data-level="11.3.5" data-path="all-dataset.html"><a href="all-dataset.html#planes"><i class="fa fa-check"></i><b>11.3.5</b> Planes</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="all-dataset.html"><a href="all-dataset.html#google"><i class="fa fa-check"></i><b>11.4</b> Google</a></li>
<li class="chapter" data-level="11.5" data-path="all-dataset.html"><a href="all-dataset.html#pokemon"><i class="fa fa-check"></i><b>11.5</b> Pokemon</a></li>
<li class="chapter" data-level="11.6" data-path="all-dataset.html"><a href="all-dataset.html#star-wars"><i class="fa fa-check"></i><b>11.6</b> Star Wars</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="biblio.html"><a href="biblio.html"><i class="fa fa-check"></i><b>12</b> Bibliographie</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Programmation Statistique avec R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="manipulation_objet" class="section level1">
<h1><span class="header-section-number">Chapitre 5</span> Manipulation des objets</h1>
<div id="liste" class="section level2">
<h2><span class="header-section-number">5.1</span> Liste</h2>
<p>Un vecteur, est une liste d’élément de même type. À l’inverse, une liste est une collection d’objets de différentes classes.
La fonction <code>list</code> permet de créer une liste.</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb363-1" title="1">ma_liste &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">matrix</span>(<span class="dt">data =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">nrow =</span> <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb363-2" title="2">                <span class="st">&quot;Hello world&quot;</span>,</a>
<a class="sourceLine" id="cb363-3" title="3">                <span class="kw">c</span>(<span class="st">&quot;Pierre&quot;</span>,<span class="st">&quot;Paul&quot;</span>,<span class="st">&quot;Jacques&quot;</span>))</a>
<a class="sourceLine" id="cb363-4" title="4">ma_liste</a></code></pre></div>
<pre><code>## [[1]]
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    3    5    7    9
## [2,]    2    4    6    8   10
## 
## [[2]]
## [1] &quot;Hello world&quot;
## 
## [[3]]
## [1] &quot;Pierre&quot;  &quot;Paul&quot;    &quot;Jacques&quot;</code></pre>
<p>Pour accéder à un objet d’une liste, on utilise des doubles crochets : par exemple [[ 1 ]] pour le premier objet d’une liste.</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb365-1" title="1">ma_liste[[<span class="dv">1</span>]]</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    3    5    7    9
## [2,]    2    4    6    8   10</code></pre>
<p>On peut accéder aux objets d’une liste avec le <code>$</code>lorsque les objets ont des noms. Les noms peuvent être définis lors de la création de la liste ou avec la fonction <code>names</code>.</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb367-1" title="1">ma_liste &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">obj1 =</span> <span class="kw">matrix</span>(<span class="dt">data =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">nrow =</span> <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb367-2" title="2">                <span class="dt">obj2 =</span> <span class="st">&quot;Hello world&quot;</span>,</a>
<a class="sourceLine" id="cb367-3" title="3">                <span class="dt">obj3 =</span> <span class="kw">c</span>(<span class="st">&quot;Pierre&quot;</span>,<span class="st">&quot;Paul&quot;</span>,<span class="st">&quot;Jacques&quot;</span>))</a>
<a class="sourceLine" id="cb367-4" title="4"></a>
<a class="sourceLine" id="cb367-5" title="5">ma_liste<span class="op">$</span>obj1</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    3    5    7    9
## [2,]    2    4    6    8   10</code></pre>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb369-1" title="1"><span class="kw">names</span>(ma_liste) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;matrice&quot;</span>, <span class="st">&quot;element&quot;</span>, <span class="st">&quot;vecteur&quot;</span>)</a>
<a class="sourceLine" id="cb369-2" title="2">ma_liste</a></code></pre></div>
<pre><code>## $matrice
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    3    5    7    9
## [2,]    2    4    6    8   10
## 
## $element
## [1] &quot;Hello world&quot;
## 
## $vecteur
## [1] &quot;Pierre&quot;  &quot;Paul&quot;    &quot;Jacques&quot;</code></pre>
<p>Comme pour les vecteurs, la fonction `length’ retourne la longueur d’une liste.</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb371-1" title="1"><span class="kw">length</span>(ma_liste)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Pour supprimer un objet d’une liste, on lui affecte la valeur <code>NULL</code></p>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb373-1" title="1">ma_liste<span class="op">$</span>matrice &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb373-2" title="2">ma_liste</a></code></pre></div>
<pre><code>## $element
## [1] &quot;Hello world&quot;
## 
## $vecteur
## [1] &quot;Pierre&quot;  &quot;Paul&quot;    &quot;Jacques&quot;</code></pre>
<p>Pour ajouter un objet à une liste, on affecte un objet à au nom du nouvel objet de la liste qui n’existe pas.</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb375-1" title="1">ma_liste<span class="op">$</span>matrice2 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">nrow =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb375-2" title="2">ma_liste</a></code></pre></div>
<pre><code>## $element
## [1] &quot;Hello world&quot;
## 
## $vecteur
## [1] &quot;Pierre&quot;  &quot;Paul&quot;    &quot;Jacques&quot;
## 
## $matrice2
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    3    5    7    9
## [2,]    2    4    6    8   10</code></pre>
</div>
<div id="matrice" class="section level2">
<h2><span class="header-section-number">5.2</span> Matrice</h2>
<p>On sait que qu’on peut accéder à un élément particulier d’un vecteur en faisant suivre le nom du vecteur de crochets contenant le numéro de l’élément désiré. Par exemple :</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb377-1" title="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">9</span>)</a>
<a class="sourceLine" id="cb377-2" title="2">a[<span class="dv">2</span>]</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>Cette opération, qui utilise l’opérateur <code>[]</code>, permet donc la sélection d’éléments d’un vecteur.</p>
<p>Dans un objet à deux dimensions comme les matrices,</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb379-1" title="1">a &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, <span class="dt">nrow =</span> <span class="dv">3</span>,</a>
<a class="sourceLine" id="cb379-2" title="2">            <span class="dt">dimnames =</span>  <span class="kw">list</span>(<span class="kw">c</span>(<span class="st">&quot;ligne1&quot;</span>,<span class="st">&quot;ligne2&quot;</span>,<span class="st">&quot;ligne3&quot;</span>),</a>
<a class="sourceLine" id="cb379-3" title="3">                            <span class="kw">c</span>(<span class="st">&quot;col1&quot;</span>,<span class="st">&quot;col2&quot;</span>,<span class="st">&quot;col3&quot;</span>)))</a>
<a class="sourceLine" id="cb379-4" title="4"><span class="kw">class</span>(a)</a></code></pre></div>
<pre><code>## [1] &quot;matrix&quot;</code></pre>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb381-1" title="1">a</a></code></pre></div>
<pre><code>##        col1 col2 col3
## ligne1    1    4    7
## ligne2    2    5    8
## ligne3    3    6    9</code></pre>
<p>on utilise la même syntaxe sauf qu’on précise les index lignes et colonnes entre <code>[]</code> séparés par une virgule.</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb383-1" title="1"><span class="co">#accéder à l&#39;élément de la 2ème ligne et 3ème colonne</span></a>
<a class="sourceLine" id="cb383-2" title="2">a[ <span class="dv">2</span> , <span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb385-1" title="1"><span class="co">#accéder à la deuxième ligne</span></a>
<a class="sourceLine" id="cb385-2" title="2">a[ <span class="dv">2</span> , ]</a></code></pre></div>
<pre><code>## col1 col2 col3 
##    2    5    8</code></pre>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb387-1" title="1"><span class="co">#accéder à la troisième colonne</span></a>
<a class="sourceLine" id="cb387-2" title="2">a[ , <span class="dv">3</span> ]</a></code></pre></div>
<pre><code>## ligne1 ligne2 ligne3 
##      7      8      9</code></pre>
<p>On peut également effectuer une indexation multiple sur les matrices si on souhaite sélectionner plusieurs lignes et colonnes.</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb389-1" title="1">a[ , <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</a></code></pre></div>
<pre><code>##        col1 col3
## ligne1    1    7
## ligne2    2    8
## ligne3    3    9</code></pre>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb391-1" title="1">a[<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>) , ]</a></code></pre></div>
<pre><code>##        col1 col2 col3
## ligne2    2    5    8
## ligne3    3    6    9</code></pre>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb393-1" title="1">a[<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>) , <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>) ]</a></code></pre></div>
<pre><code>##        col1 col3
## ligne2    2    8
## ligne3    3    9</code></pre>
<p><strong>Attention</strong> : Lorsqu’on effectue une indexation multiple, le résultat renvoyé est dans l’ordre des index précisés dans le vecteur. Nous aborderons de nouveau cette notion lors des tris.</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb395-1" title="1">a[<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">2</span>) , <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">1</span>) ]</a></code></pre></div>
<pre><code>##        col2 col3 col1
## ligne3    6    9    3
## ligne2    5    8    2</code></pre>
<p>On peut également effectuer une indexation <em>contraire</em> sur les matrices en précisant toutes les lignes / colonnes que l’on ne veut pas sélectionner. Pour cela, on utilise le ‘-’ devant l’indexation :</p>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb397-1" title="1">a[ , <span class="dv">-2</span> ]</a></code></pre></div>
<pre><code>##        col1 col3
## ligne1    1    7
## ligne2    2    8
## ligne3    3    9</code></pre>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb399-1" title="1">a[<span class="op">-</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>) , ]</a></code></pre></div>
<pre><code>## col1 col2 col3 
##    1    4    7</code></pre>
<p><strong>Attention</strong> : dans une matrice, tous les éléments sont de même type <code>numeric</code>, <code>character</code> ou <code>logique</code>. C’est pourquoi, on travaille avec une autre classe d’objet pour les jeux de données. La classe <code>data.frame</code>.</p>
</div>
<div id="data-frame" class="section level2">
<h2><span class="header-section-number">5.3</span> Data frame</h2>
<p>La classe d’objet <code>data.frame</code> partage les mêmes propriétés que la classe <code>matrix</code> pour l’indexation. Un data frame c’est une collection de vecteurs de même taille stockés dans un objet à deux dimensions. Autrement dit, dans un data frame, chaque colonne est un vecteur avec son propre type (numeric, character, factor, logical, date, etc.). Dans cette partie nous allons voir comment manipuler un <code>data.frame</code> sans utiliser le package <em>dplyr</em>.</p>
<div id="indexations-simples" class="section level3">
<h3><span class="header-section-number">5.3.1</span> Indexations simples</h3>
<p>Un des plus de la classe <code>data.frame</code> c’est la possibilité d’indexer les lignes et les colonnes avec leur nom.</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb401-1" title="1">a</a></code></pre></div>
<pre><code>##        col1 col2 col3
## ligne1    1    4    7
## ligne2    2    5    8
## ligne3    3    6    9</code></pre>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb403-1" title="1"><span class="kw">class</span>(a)</a></code></pre></div>
<pre><code>## [1] &quot;matrix&quot;</code></pre>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb405-1" title="1">a<span class="op">$</span>col1</a></code></pre></div>
<pre><code>## Error in a$col1: $ operator is invalid for atomic vectors</code></pre>
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb407-1" title="1">b &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="dt">x =</span> a)</a>
<a class="sourceLine" id="cb407-2" title="2"><span class="kw">class</span>(b)</a></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb409-1" title="1">b<span class="op">$</span>col1</a></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb411-1" title="1">b[ <span class="kw">c</span>(<span class="st">&quot;ligne1&quot;</span>), <span class="kw">c</span>(<span class="st">&quot;col2&quot;</span>,<span class="st">&quot;col1&quot;</span>)]</a></code></pre></div>
<pre><code>##        col2 col1
## ligne1    4    1</code></pre>
</div>
<div id="indexations-avec-des-booléens" class="section level3">
<h3><span class="header-section-number">5.3.2</span> Indexations avec des booléens</h3>
<p>Dans le langage R, il est possible d’effectuer des indexations sur des objets avec des booléens <code>TRUE</code> / <code>FALSE</code>.</p>
<p>Dans l’exemple ci-dessous, je vais indexer le vecteur avec un vecteur logique de même taille</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb413-1" title="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">6</span>,<span class="dv">9</span>,<span class="dv">7</span>)</a>
<a class="sourceLine" id="cb413-2" title="2"></a>
<a class="sourceLine" id="cb413-3" title="3"><span class="co">#afficher le 2ème et 4ème éléments</span></a>
<a class="sourceLine" id="cb413-4" title="4">a[<span class="kw">c</span>(<span class="ot">FALSE</span>,<span class="ot">TRUE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>,<span class="ot">FALSE</span>)]</a></code></pre></div>
<pre><code>## [1] 2 9</code></pre>
<p>Dans un data frame, on peut utiliser ce procédé pour sélectionner certaines lignes et colonnes :</p>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb415-1" title="1">b</a></code></pre></div>
<pre><code>##        col1 col2 col3
## ligne1    1    4    7
## ligne2    2    5    8
## ligne3    3    6    9</code></pre>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb417-1" title="1"><span class="co">#accéder à la 2ème ligne</span></a>
<a class="sourceLine" id="cb417-2" title="2">b [ <span class="kw">c</span>(<span class="ot">FALSE</span>,<span class="ot">TRUE</span>,<span class="ot">FALSE</span>),  ]</a></code></pre></div>
<pre><code>##        col1 col2 col3
## ligne2    2    5    8</code></pre>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb419-1" title="1"><span class="co">#accéder à la 3eme colonne</span></a>
<a class="sourceLine" id="cb419-2" title="2">b [ , <span class="kw">c</span>(<span class="ot">FALSE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>) ]</a></code></pre></div>
<pre><code>## [1] 7 8 9</code></pre>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb421-1" title="1"><span class="co">#accéder à l&#39;élément de la 2ème ligne et 3ème colonne</span></a>
<a class="sourceLine" id="cb421-2" title="2">b [ <span class="kw">c</span>(<span class="ot">FALSE</span>,<span class="ot">TRUE</span>,<span class="ot">FALSE</span>), <span class="kw">c</span>(<span class="ot">FALSE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>) ]</a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<p>Ainsi, avec des vecteurs logiques, il est possible d’indexer des <code>data.frame</code>. C’est ce mécanisme qui permet d’effectuer des filtres.</p>
</div>
<div id="filtre-et-sélection-dans-un-data-frame" class="section level3">
<h3><span class="header-section-number">5.3.3</span> Filtre et sélection dans un data frame</h3>
<p>Pour filtrer un <code>data.frame</code>, il suffit d’insérer un ou plusieurs tests logiques dans l’indexation de l’objet. Pour rappel, les tests logiques retournent toujours des valeurs logiques <code>TRUE</code> / <code>FALSE</code>.</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb423-1" title="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">1</span>,<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb423-2" title="2">a <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span></a></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb425-1" title="1">b</a></code></pre></div>
<pre><code>##        col1 col2 col3
## ligne1    1    4    7
## ligne2    2    5    8
## ligne3    3    6    9</code></pre>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb427-1" title="1">b[ b<span class="op">$</span>col1 <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> , ]</a></code></pre></div>
<pre><code>##        col1 col2 col3
## ligne2    2    5    8
## ligne3    3    6    9</code></pre>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb429-1" title="1">b[ (b<span class="op">$</span>col1 <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>) <span class="op">&amp;</span><span class="st"> </span>(b<span class="op">$</span>col2 <span class="op">&lt;</span><span class="st"> </span><span class="dv">6</span>) , ]</a></code></pre></div>
<pre><code>##        col1 col2 col3
## ligne2    2    5    8</code></pre>
</div>
<div id="exercices-3" class="section level3">
<h3><span class="header-section-number">5.3.4</span> Exercices</h3>
<div id="sujet-3" class="section level4">
<h4><span class="header-section-number">5.3.4.1</span> Sujet</h4>
<p>Pour illustrer ces notions, on utilise la base de données correspondant aux informations de tous les vols au départ d’un des trois aéroports de New-York en 2013. La base de données est répartie en 5 tables et disponible à partir du package <em>nycflights13</em>.</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb431-1" title="1"><span class="co">#on charge le package</span></a>
<a class="sourceLine" id="cb431-2" title="2"><span class="kw">library</span>(nycflights13)</a>
<a class="sourceLine" id="cb431-3" title="3"></a>
<a class="sourceLine" id="cb431-4" title="4"><span class="co">#on affiche les objets disponibles du package</span></a>
<a class="sourceLine" id="cb431-5" title="5"><span class="kw">ls</span>(<span class="st">&quot;package:nycflights13&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;airlines&quot; &quot;airports&quot; &quot;flights&quot;  &quot;planes&quot;   &quot;weather&quot;</code></pre>
<p>Nous allons utiliser la table <code>flights</code> qui présente 336 776 vols sur 19 variables
Voici une description de cette table :</p>
<ul>
<li><code>year</code>, <code>month</code>, <code>day</code> : date du vol.</li>
<li><code>dep_time</code>, <code>arr_time</code> : Heures de départ et d’arrivée réelles (format HHMM ou HMM).</li>
<li><code>sched_dep_time</code>,<code>sched_arr_time</code> : Heures de départ et d’arrivée prévues (format HHMM ou HMM).</li>
<li><code>dep_delay</code>, <code>arr_delay</code> : Retards de départ et d’arrivée, en minutes. Les temps négatifs représentent des départs / arrivées précoces.</li>
<li><code>carrier</code> : Abréviation à deux lettres des compagnies aériennes.</li>
<li><code>flights</code> : Numéro de vol</li>
<li><code>tailnum</code> : Immatriculation de l’avion</li>
<li><code>origine</code>, <code>dest</code> : Aéroport de départ et destination.</li>
<li><code>air_time</code> : Durée du vol en minutes.</li>
<li><code>distance</code> : Distance entre les aéroports, en miles.</li>
<li><code>hour</code> , <code>minute</code> : Heure de départ prévue divisée en heures et minutes.</li>
<li><code>time_hour</code> : Date et heure prévues du vol</li>
</ul>
<p>
<img src="img/flight.png" title="fig:" alt="Extrait de la table flights" />
</p>
<p><strong>Exercice 1</strong></p>
<ol style="list-style-type: lower-alpha">
<li><p>Installez, puis chargez le package <em>nycflights13</em></p></li>
<li><p>Combien de lignes, colonnes sont présentes dans cette table ?</p></li>
<li><p>Affichez le nom des colonnes</p></li>
<li><p>Affichez un résumé des données</p></li>
</ol>
<p><strong>Exercice 2</strong></p>
<p>Pour répondre aux questions, utilisez des tests logiques <strong>sans</strong> passer par la fonction <code>subset</code>.</p>
<ol style="list-style-type: lower-alpha">
<li><p>Filtrez la table en sélectionnant les vols du mois de janvier.</p></li>
<li><p>Filtrez la table en sélectionnant les vols en provenance de <code>LGA</code> et <code>JFK</code>.</p></li>
<li><p>Filtrez la table en sélectionnant les vols avec 10 à 30 min de retards à l’arrivée.</p></li>
<li><p>Filtrez la table en sélectionnant les vols avec 10 à 30 min de retard à l’arrivée du mois de janvier.</p></li>
<li><p>Filtrez la table en sélectionnant les vols avec du retard au départ ou l’arrivée</p></li>
</ol>
<p><strong>Exercice 3</strong></p>
<ol style="list-style-type: lower-alpha">
<li><p>Sélectionnez uniquement les colonnes <code>year</code>, <code>month</code>, <code>day</code>.</p></li>
<li><p>Sélectionnez uniquement les colonnes 13 à 19.</p></li>
<li><p>Sélectionnez toutes colonnes sauf <code>dep_delay</code> et <code>arr_delay</code>.</p></li>
</ol>
</div>
<div id="correction-3" class="section level4">
<h4><span class="header-section-number">5.3.4.2</span> Correction</h4>
<p><strong>Exercice 1</strong></p>
<ol style="list-style-type: lower-alpha">
<li>Installez, puis chargez le package <em>nycflights13</em></li>
</ol>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb433-1" title="1"><span class="kw">library</span>(nycflights13)</a></code></pre></div>
<ol start="2" style="list-style-type: lower-alpha">
<li>Combien de lignes, colonnes sont présentes dans cette table ?</li>
</ol>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb434-1" title="1"><span class="kw">dim</span>(<span class="dt">x =</span> flights)</a></code></pre></div>
<pre><code>## [1] 336776     19</code></pre>
<ol start="3" style="list-style-type: lower-alpha">
<li>Affichez le nom des colonnes</li>
</ol>
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb436-1" title="1"><span class="kw">colnames</span>(<span class="dt">x =</span> flights)</a></code></pre></div>
<ol start="4" style="list-style-type: lower-alpha">
<li>Affichez un résumé des données</li>
</ol>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb437-1" title="1"><span class="kw">summary</span>(<span class="dt">object =</span> flights)</a></code></pre></div>
<p><strong>Exercice 2</strong></p>
<p>Pour répondre aux questions, utilisez des tests logiques <strong>sans</strong> passer par la fonction <code>subset</code>.</p>
<ol style="list-style-type: lower-alpha">
<li>Filtrez la table en sélectionnant les vols du mois de janvier.</li>
</ol>
<div class="sourceCode" id="cb438"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb438-1" title="1">requeteA &lt;-<span class="st"> </span>flights[ flights<span class="op">$</span>month <span class="op">==</span><span class="st"> </span><span class="dv">1</span> , ]</a>
<a class="sourceLine" id="cb438-2" title="2"><span class="kw">dim</span>(requeteA)</a></code></pre></div>
<pre><code>## [1] 27004    19</code></pre>
<ol start="2" style="list-style-type: lower-alpha">
<li>Filtrez la table en sélectionnant les vols en provenance de <code>LGA</code> et <code>JFK</code>.</li>
</ol>
<div class="sourceCode" id="cb440"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb440-1" title="1">requeteB &lt;-<span class="st"> </span>flights[ flights<span class="op">$</span>origin <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;JFK&quot;</span>,<span class="st">&quot;LGA&quot;</span>) , ]</a>
<a class="sourceLine" id="cb440-2" title="2"><span class="kw">dim</span>(requeteB)</a></code></pre></div>
<pre><code>## [1] 215941     19</code></pre>
<ol start="3" style="list-style-type: lower-alpha">
<li>Filtrez la table en sélectionnant les vols avec 10 à 30 min de retards à l’arrivée.</li>
</ol>
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb442-1" title="1">requeteC &lt;-<span class="st"> </span>flights[ (flights<span class="op">$</span>arr_delay <span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span>) <span class="op">&amp;</span><span class="st"> </span>(flights<span class="op">$</span>arr_delay <span class="op">&lt;</span><span class="st"> </span><span class="dv">30</span>) , ]</a>
<a class="sourceLine" id="cb442-2" title="2"><span class="kw">dim</span>(requeteC)</a></code></pre></div>
<pre><code>## [1] 48249    19</code></pre>
<ol start="4" style="list-style-type: lower-alpha">
<li>Filtrez la table en sélectionnant les vols avec 10 à 30 min de retard à l’arrivée du mois de janvier.</li>
</ol>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb444-1" title="1">requeteD &lt;-<span class="st"> </span>flights[ (flights<span class="op">$</span>arr_delay <span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span>) <span class="op">&amp;</span><span class="st"> </span>(flights<span class="op">$</span>arr_delay <span class="op">&lt;</span><span class="st"> </span><span class="dv">30</span>) <span class="op">&amp;</span></a>
<a class="sourceLine" id="cb444-2" title="2"><span class="st">                       </span>(flights<span class="op">$</span>month <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) , ]</a>
<a class="sourceLine" id="cb444-3" title="3"><span class="kw">dim</span>(requeteD)</a></code></pre></div>
<pre><code>## [1] 4016   19</code></pre>
<ol start="5" style="list-style-type: lower-alpha">
<li>Filtrez la table en sélectionnant les vols avec du retard au départ ou l’arrivée</li>
</ol>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb446-1" title="1">requeteE &lt;-<span class="st"> </span>flights[ (flights<span class="op">$</span>dep_delay <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) <span class="op">|</span><span class="st"> </span>(flights<span class="op">$</span>arr_delay <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) , ]</a>
<a class="sourceLine" id="cb446-2" title="2"><span class="kw">dim</span>(requeteE)</a></code></pre></div>
<pre><code>## [1] 177876     19</code></pre>
<p><strong>Exercice 3</strong></p>
<ol style="list-style-type: lower-alpha">
<li>Sélectionnez uniquement les colonnes <code>year</code>, <code>month</code>, <code>day</code>.</li>
</ol>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb448-1" title="1">requeteA &lt;-<span class="st"> </span>flights[ , <span class="kw">c</span>(<span class="st">&quot;year&quot;</span>, <span class="st">&quot;month&quot;</span>, <span class="st">&quot;day&quot;</span>) ]</a>
<a class="sourceLine" id="cb448-2" title="2"><span class="kw">dim</span>(requeteA)</a></code></pre></div>
<pre><code>## [1] 336776      3</code></pre>
<ol start="2" style="list-style-type: lower-alpha">
<li>Sélectionnez uniquement les colonnes 13 à 19.</li>
</ol>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb450-1" title="1">requeteB &lt;-<span class="st"> </span>flights[ , <span class="dv">13</span><span class="op">:</span><span class="dv">19</span> ]</a>
<a class="sourceLine" id="cb450-2" title="2"><span class="kw">dim</span>(requeteB)</a></code></pre></div>
<pre><code>## [1] 336776      7</code></pre>
<ol start="3" style="list-style-type: lower-alpha">
<li>Sélectionnez toutes colonnes sauf <code>dep_delay</code> et <code>arr_delay</code>.</li>
</ol>
<p>On utilise un test logique sur le nom des colonnes</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb452-1" title="1"><span class="kw">colnames</span>(flights)</a></code></pre></div>
<pre><code>##  [1] &quot;year&quot;           &quot;month&quot;          &quot;day&quot;            &quot;dep_time&quot;      
##  [5] &quot;sched_dep_time&quot; &quot;dep_delay&quot;      &quot;arr_time&quot;       &quot;sched_arr_time&quot;
##  [9] &quot;arr_delay&quot;      &quot;carrier&quot;        &quot;flight&quot;         &quot;tailnum&quot;       
## [13] &quot;origin&quot;         &quot;dest&quot;           &quot;air_time&quot;       &quot;distance&quot;      
## [17] &quot;hour&quot;           &quot;minute&quot;         &quot;time_hour&quot;</code></pre>
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb454-1" title="1"><span class="kw">colnames</span>(flights) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;dep_delay&#39;</span>,<span class="st">&#39;arr_delay&#39;</span>)</a></code></pre></div>
<pre><code>##  [1] FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE FALSE
## [12] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb456-1" title="1">requeteC &lt;-<span class="st"> </span>flights[ , <span class="kw">colnames</span>(flights) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;dep_delay&#39;</span>,<span class="st">&#39;arr_delay&#39;</span>) ]</a>
<a class="sourceLine" id="cb456-2" title="2"><span class="kw">dim</span>(requeteC)</a></code></pre></div>
<pre><code>## [1] 336776      2</code></pre>
</div>
</div>
<div id="trier-un-data-frame" class="section level3">
<h3><span class="header-section-number">5.3.5</span> Trier un data frame</h3>
<p>On sait que la fonction <code>sort</code> permet de trier un vecteur.</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb458-1" title="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">9</span>,<span class="dv">4</span>,<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb458-2" title="2"><span class="kw">sort</span>(<span class="dt">x =</span> a, <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 9 6 4 1</code></pre>
<p>La fonction <code>order</code> permet de trier un vecteur à partir des rangs.</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb460-1" title="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">9</span>,<span class="dv">4</span>,<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb460-2" title="2"><span class="kw">order</span>(a,<span class="dt">decreasing =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 2 4 3 1</code></pre>
<p>On utilise ensuite le vecteur avec les rangs pour trier le vecteur</p>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb462-1" title="1">a[ <span class="kw">order</span>(a,<span class="dt">decreasing =</span> <span class="ot">TRUE</span>) ]</a></code></pre></div>
<pre><code>## [1] 9 6 4 1</code></pre>
<p>Pour trier un data frame ou une matrice, on utilise le même procédé avec la fonction <code>order</code>.</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb464-1" title="1">a &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">0</span>,<span class="dv">7</span>,<span class="dv">9</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">6</span>), <span class="dt">nrow =</span> <span class="dv">3</span>,</a>
<a class="sourceLine" id="cb464-2" title="2">            <span class="dt">dimnames =</span>  <span class="kw">list</span>(<span class="kw">c</span>(<span class="st">&quot;ligne1&quot;</span>,<span class="st">&quot;ligne2&quot;</span>,<span class="st">&quot;ligne3&quot;</span>),</a>
<a class="sourceLine" id="cb464-3" title="3">                            <span class="kw">c</span>(<span class="st">&quot;col1&quot;</span>,<span class="st">&quot;col2&quot;</span>,<span class="st">&quot;col3&quot;</span>)))</a>
<a class="sourceLine" id="cb464-4" title="4">a</a></code></pre></div>
<pre><code>##        col1 col2 col3
## ligne1    1    0    2
## ligne2    4    7    5
## ligne3    4    9    6</code></pre>
<p>Ici, on souhaiter trier la matrice selon la deuxième colonne avec un tri décroissant. Seule, la fonction <code>order</code> renvoie les rangs dans lesquels il faudrait trier le tableau.</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb466-1" title="1"><span class="kw">order</span>(a[,<span class="dv">2</span>],<span class="dt">decreasing =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 3 2 1</code></pre>
<p>Il faut utiliser ce vecteur de rang dans l’indexation de la matrice pour la trier.</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb468-1" title="1">rang &lt;-<span class="st"> </span><span class="kw">order</span>( a[,<span class="dv">2</span>],<span class="dt">decreasing =</span> <span class="ot">TRUE</span> )</a>
<a class="sourceLine" id="cb468-2" title="2">a[ rang , ]</a></code></pre></div>
<pre><code>##        col1 col2 col3
## ligne3    4    9    6
## ligne2    4    7    5
## ligne1    1    0    2</code></pre>
<p>On peut aussi utiliser le ‘-’ devant le vecteur à trier pour effectuer un tri décroissant.</p>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb470-1" title="1">rang &lt;-<span class="st"> </span><span class="kw">order</span>( <span class="op">-</span><span class="st"> </span>a[,<span class="dv">2</span>] )</a>
<a class="sourceLine" id="cb470-2" title="2">a[ rang , ]</a></code></pre></div>
<pre><code>##        col1 col2 col3
## ligne3    4    9    6
## ligne2    4    7    5
## ligne1    1    0    2</code></pre>
<p>C’est cette syntaxe qu’on retrouve pour réaliser des tris successifs, on utilise toujours la fonction <code>order</code> avec chaque vecteur comme argument.
On souhaite trier la première colonne par ordre croissant puis la deuxième colonne par ordre décroissant :</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb472-1" title="1">rang &lt;-<span class="st"> </span><span class="kw">order</span>(a[,<span class="dv">1</span>] , <span class="op">-</span><span class="st"> </span>a[,<span class="dv">2</span>] )</a>
<a class="sourceLine" id="cb472-2" title="2">a[ rang , ]</a></code></pre></div>
<pre><code>##        col1 col2 col3
## ligne1    1    0    2
## ligne3    4    9    6
## ligne2    4    7    5</code></pre>
</div>
<div id="exercice" class="section level3">
<h3><span class="header-section-number">5.3.6</span> Exercice</h3>
<div id="sujet-4" class="section level4">
<h4><span class="header-section-number">5.3.6.1</span> Sujet</h4>
<p>Nous utilisons toujours la table <code>flights</code>. Pour faciliter la lecture des résultats des requêtes, n’affichez que :</p>
<ul>
<li>les 5 premières lignes</li>
<li>la colonne <code>flight</code>, <code>tailnum</code> et celles avec le(s) tri(s) concerné(s)</li>
</ul>
<p><strong>Exercice 1</strong></p>
<ol style="list-style-type: lower-alpha">
<li><p>Trier la table selon le mois du vol</p></li>
<li><p>Trier la table selon les vols avec le plus de retard à l’arrivée</p></li>
<li><p>Trier la table par vols de provenance, puis de destination</p></li>
</ol>
</div>
<div id="correction-4" class="section level4">
<h4><span class="header-section-number">5.3.6.2</span> Correction</h4>
<p><strong>Exercice 1</strong></p>
<ol style="list-style-type: lower-alpha">
<li>Trier la table selon le mois du vol</li>
</ol>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb474-1" title="1"><span class="co">#On charge la librairie knitr pour utiliser la fonction kable pour les tableaux en sortie</span></a>
<a class="sourceLine" id="cb474-2" title="2"><span class="kw">library</span>(knitr)</a></code></pre></div>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb475-1" title="1">rang &lt;-<span class="st"> </span><span class="kw">order</span>(flights<span class="op">$</span>month)</a>
<a class="sourceLine" id="cb475-2" title="2">requeteA &lt;-<span class="st"> </span>flights[ rang , <span class="kw">c</span>(<span class="st">&quot;flight&quot;</span>, <span class="st">&quot;tailnum&quot;</span>, <span class="st">&quot;month&quot;</span>) ]</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
flight
</th>
<th style="text-align:left;">
tailnum
</th>
<th style="text-align:right;">
month
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
1545
</td>
<td style="text-align:left;">
N14228
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
1714
</td>
<td style="text-align:left;">
N24211
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
1141
</td>
<td style="text-align:left;">
N619AA
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
725
</td>
<td style="text-align:left;">
N804JB
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
461
</td>
<td style="text-align:left;">
N668DN
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: lower-alpha">
<li>Trier la table selon les vols avec le plus de retard à l’arrivée</li>
</ol>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb476-1" title="1">rang &lt;-<span class="st"> </span><span class="kw">order</span>(<span class="op">-</span>flights<span class="op">$</span>arr_delay)</a>
<a class="sourceLine" id="cb476-2" title="2">requeteB &lt;-<span class="st"> </span>flights[ rang , <span class="kw">c</span>(<span class="st">&quot;flight&quot;</span>, <span class="st">&quot;tailnum&quot;</span>, <span class="st">&quot;arr_delay&quot;</span>) ]</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
flight
</th>
<th style="text-align:left;">
tailnum
</th>
<th style="text-align:right;">
arr_delay
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
7073
</td>
<td style="text-align:left;">
51
</td>
<td style="text-align:left;">
N384HA
</td>
<td style="text-align:right;">
1272
</td>
</tr>
<tr>
<td style="text-align:left;">
235779
</td>
<td style="text-align:left;">
3535
</td>
<td style="text-align:left;">
N504MQ
</td>
<td style="text-align:right;">
1127
</td>
</tr>
<tr>
<td style="text-align:left;">
8240
</td>
<td style="text-align:left;">
3695
</td>
<td style="text-align:left;">
N517MQ
</td>
<td style="text-align:right;">
1109
</td>
</tr>
<tr>
<td style="text-align:left;">
327044
</td>
<td style="text-align:left;">
177
</td>
<td style="text-align:left;">
N338AA
</td>
<td style="text-align:right;">
1007
</td>
</tr>
<tr>
<td style="text-align:left;">
270377
</td>
<td style="text-align:left;">
3075
</td>
<td style="text-align:left;">
N665MQ
</td>
<td style="text-align:right;">
989
</td>
</tr>
</tbody>
</table>
<ol start="3" style="list-style-type: lower-alpha">
<li>Trier la table par vols de provenance, puis de destination</li>
</ol>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb477-1" title="1">rang &lt;-<span class="st"> </span><span class="kw">order</span>(flights<span class="op">$</span>origin, flights<span class="op">$</span>dest)</a>
<a class="sourceLine" id="cb477-2" title="2">requeteC &lt;-<span class="st"> </span>flights[ rang , <span class="kw">c</span>(<span class="st">&quot;flight&quot;</span>, <span class="st">&quot;tailnum&quot;</span>, <span class="st">&quot;origin&quot;</span>, <span class="st">&quot;dest&quot;</span>) ]</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
flight
</th>
<th style="text-align:left;">
tailnum
</th>
<th style="text-align:left;">
origin
</th>
<th style="text-align:left;">
dest
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
361
</td>
<td style="text-align:left;">
4112
</td>
<td style="text-align:left;">
N13538
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
ALB
</td>
</tr>
<tr>
<td style="text-align:left;">
570
</td>
<td style="text-align:left;">
3260
</td>
<td style="text-align:left;">
N19554
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
ALB
</td>
</tr>
<tr>
<td style="text-align:left;">
785
</td>
<td style="text-align:left;">
4170
</td>
<td style="text-align:left;">
N12540
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
ALB
</td>
</tr>
<tr>
<td style="text-align:left;">
1280
</td>
<td style="text-align:left;">
4316
</td>
<td style="text-align:left;">
N14153
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
ALB
</td>
</tr>
<tr>
<td style="text-align:left;">
1537
</td>
<td style="text-align:left;">
3260
</td>
<td style="text-align:left;">
N14153
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
ALB
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="agréger-des-données" class="section level3">
<h3><span class="header-section-number">5.3.7</span> Agréger des données</h3>
<p>Le langage R permet aussi d’effectuer des opérations groupées en effectuant des agrégations.
Pour cela on utilise la fonction <code>aggregate</code>.
Il faut préciser dans la fonction le champ avec lequel on souhaite grouper les données, puis la fonction d’agrégation à utiliser.</p>
<p>Ici, on calcule le retard moyen au départ pour chaque aéroport d’origine :</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb478-1" title="1">agregation &lt;-<span class="st"> </span><span class="kw">aggregate</span>(<span class="dt">formula =</span> dep_delay <span class="op">~</span><span class="st"> </span>origin, <span class="dt">data =</span> flights , <span class="dt">FUN =</span> mean)</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
origin
</th>
<th style="text-align:right;">
dep_delay
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
15.10795
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
12.11216
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
10.34688
</td>
</tr>
</tbody>
</table>
<p>On peut également grouper les données selon plusieurs champs qu’on renseigne avec le ‘+’ dans l’argument <code>formula.</code>
Ici on calcule le retard moyen au départ pour chaque aéroport d’origine et chaque mois :</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb479-1" title="1">agregation &lt;-<span class="st"> </span><span class="kw">aggregate</span>(<span class="dt">formula =</span> dep_delay <span class="op">~</span><span class="st"> </span>origin <span class="op">+</span><span class="st"> </span>month, </a>
<a class="sourceLine" id="cb479-2" title="2">                         <span class="dt">data =</span> flights , <span class="dt">FUN =</span> mean)</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
origin
</th>
<th style="text-align:right;">
month
</th>
<th style="text-align:right;">
dep_delay
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
14.905748
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
8.615826
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5.641560
</td>
</tr>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
13.067263
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
11.791355
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
6.961582
</td>
</tr>
</tbody>
</table>
<p>Le raccourci ‘<strong>.</strong>’ dans l’argument <code>formula</code> permet d’agréger toutes les colonnes en fonction ‘<strong>~</strong>’ d’une ou plusieurs.</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb480-1" title="1">agregation &lt;-<span class="st"> </span><span class="kw">aggregate</span>(<span class="dt">formula =</span> . <span class="op">~</span><span class="st"> </span>origin, </a>
<a class="sourceLine" id="cb480-2" title="2">                         <span class="dt">data =</span> flights[ , <span class="kw">c</span>(<span class="st">&quot;origin&quot;</span>,<span class="st">&quot;dep_delay&quot;</span>,<span class="st">&quot;arr_delay&quot;</span>,<span class="st">&quot;distance&quot;</span>)],</a>
<a class="sourceLine" id="cb480-3" title="3">                         <span class="dt">FUN =</span> mean)</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
origin
</th>
<th style="text-align:right;">
dep_delay
</th>
<th style="text-align:right;">
arr_delay
</th>
<th style="text-align:right;">
distance
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
15.00911
</td>
<td style="text-align:right;">
9.107055
</td>
<td style="text-align:right;">
1064.7522
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
12.02361
</td>
<td style="text-align:right;">
5.551481
</td>
<td style="text-align:right;">
1275.2106
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
10.28658
</td>
<td style="text-align:right;">
5.783488
</td>
<td style="text-align:right;">
784.7561
</td>
</tr>
</tbody>
</table>
<div id="exercice-1" class="section level4">
<h4><span class="header-section-number">5.3.7.1</span> Exercice</h4>
<div id="sujet-5" class="section level5">
<h5><span class="header-section-number">5.3.7.1.1</span> Sujet</h5>
<p><strong>Exercice 1</strong></p>
<ol style="list-style-type: lower-alpha">
<li><p>Calculez le retard maximum au départ de chaque aéroport</p></li>
<li><p>Calculez l’écart-type sur les retards au départ et l’arrivée pour chaque aéroport d’origine</p></li>
<li><p>Calculez le nombre de vols par aéroport d’origine</p></li>
</ol>
</div>
<div id="correction-5" class="section level5">
<h5><span class="header-section-number">5.3.7.1.2</span> Correction</h5>
<ol style="list-style-type: lower-alpha">
<li>Calculez le retard maximum au départ de chaque aéroport</li>
</ol>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb481-1" title="1">agregationA &lt;-<span class="st"> </span><span class="kw">aggregate</span>(<span class="dt">formula =</span> dep_delay <span class="op">~</span><span class="st"> </span>origin, <span class="dt">data =</span> flights, <span class="dt">FUN =</span> max)</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
origin
</th>
<th style="text-align:right;">
dep_delay
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
1126
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
1301
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
911
</td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: lower-alpha">
<li>Calculez l’écart-type sur les retards au départ et l’arrivée pour chaque aéroport d’origine</li>
</ol>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb482-1" title="1">agregationB &lt;-<span class="st"> </span><span class="kw">aggregate</span>(<span class="dt">formula =</span> . <span class="op">~</span><span class="st"> </span>origin, </a>
<a class="sourceLine" id="cb482-2" title="2">                         <span class="dt">data =</span> flights[ , <span class="kw">c</span>(<span class="st">&quot;origin&quot;</span>,<span class="st">&quot;dep_delay&quot;</span>, <span class="st">&quot;arr_delay&quot;</span>)],</a>
<a class="sourceLine" id="cb482-3" title="3">                         <span class="dt">FUN =</span> sd)</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
origin
</th>
<th style="text-align:right;">
dep_delay
</th>
<th style="text-align:right;">
arr_delay
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
41.18521
</td>
<td style="text-align:right;">
45.52918
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
38.82710
</td>
<td style="text-align:right;">
44.27745
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
39.91130
</td>
<td style="text-align:right;">
43.86227
</td>
</tr>
</tbody>
</table>
<ol start="3" style="list-style-type: lower-alpha">
<li>Calculez le nombre de vols par aéroport d’origine</li>
</ol>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb483-1" title="1">agregationC &lt;-<span class="st"> </span><span class="kw">aggregate</span>(<span class="dt">formula =</span> tailnum <span class="op">~</span><span class="st"> </span>origin, </a>
<a class="sourceLine" id="cb483-2" title="2">                         <span class="dt">data =</span> flights,</a>
<a class="sourceLine" id="cb483-3" title="3">                         <span class="dt">FUN =</span> length)</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
origin
</th>
<th style="text-align:right;">
tailnum
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
120229
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
110370
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
103665
</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="first-import.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="graphique.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
